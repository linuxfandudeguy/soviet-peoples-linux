<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soviet Peoples Linux</title>
    <link rel="stylesheet" href="./modern-normalize.min.css">
    <link rel="stylesheet" href="./xterm.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            font-family: monospace;
            background-color: darkred;
            color: yellow;
            overflow: hidden;
        }

        #terminal-container {
            height: 100vh;
            width: 100vw;
            display: flex;
            flex-direction: column;
        }

        .xterm {
            flex-grow: 1;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

    <div id="terminal-container"></div>

    <script src="./xterm.js"></script>

    <script>
        // Initialize the terminal
        const terminal = new Terminal({
            cursorBlink: true,
            theme: {
                background: 'darkred',
                foreground: 'yellow',
                cursor: '#ff0000',
                selectionBackground: '#555555',
            },
            convertEol: true,
        });

        terminal.open(document.getElementById('terminal-container'));

        // Soviet-themed ASCII art
        const asciiArt = `
        â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£†â €â €â €â €â €â €â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â €â£¼â¢»â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â¢¤â£„â£€â£€â£€â£°â¡‡â ˆâ£§â£€â£€â£€â£€â£€â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â ˆâ »â¢¦â¡€â €â €â €â €â¢€â£ â ¾â ‹â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â£¹â ƒâ €â¡€â €â¢¿â â €â €â €â €â €â €â €â €â €â €
        â €â €â €â €â£ â ”â ‚â €â €â €â¢ â£â£´â žâ ›â¢¦â£œâ£§â €â €â €â €â ¢â£„â¡€â €â €â €
        â €â €â¢ â£–â¡¿â¡‹â €â €â €â €â €â ¾â ‹â €â €â €â €â ‰â »â¡„â €â €â €â €â¢â¢¿â£±â£„â €
        â €â¡œâ£¿â£¨â¡¾â â €â €â €â €â €â €â €â €â €â ‰â ²â£¤â¡€â €â €â €â €â €â ˆâ¢³â£‡â£¿â¢¡
        â €â¢°â£‡â£Ÿâ£µâ ƒâ €â €â €â €â €â €â¢€â£´â£¦â¡¤â €â €â ˆâ »â£·â¡€â €â €â €â €â ˆâ£¯â¡»â¢¸â¡†
        â €â¡†â£¿â¡¾â¡…â €â €â €â €â €â¢€â£´â£¿â£¿â£â €â €â €â €â €â ¹â£¿â¡†â €â €â €â €â¢¨â¢»â£¾â¢±
        â €â£·â¡˜â£±â ‡â €â €â €â €â €â €â ¹â ‹â ˆâ »â£·â£„â €â €â €â €â£¿â£¿â €â €â €â €â ˜â£§â¢‹â£¾
        â €â¡¼â£·â¡¿â£€â €â €â €â €â €â €â €â €â €â €â ˆâ »â£·â£„â €â¢€â£¿â£¿â €â €â €â €â¢°â¢»â£¾â¢‡
        â €â¢³â£Œâ ‡â£¿â €â €â €â €â €â €â£´â¢¶â£¤â£€â¡€â €â ˆâ¢»â£·â£¾â£¿â â €â €â €â €â£¿â ¸â£¡â¡ž
        â €â €â¡¿â¢·â£¿â¡¸â£„â €â¢€â£´â¡¾â ‰â €â ˆâ ›â ¿â¢¿â£¿â£¿â¡¿â ¿â£·â£„â €â €â¢ â¡‡â£¿â¡¾â¢›â €
        â €â €â ˜â¢¦â£â¡£â¢¿â¡¦â¡ˆâ ‹â €â €â €â €â €â €â €â €â €â €â €â ™â ‹â¢€â£´â¡¿â£˜â£­â¡¶â ƒâ €
        â €â €â €â €â ¹â£›â ¿â ·â¡¹â£¦â¡€â €â €â €â €â €â €â €â €â €â €â¢€â£´â¢Ÿâ ¾â Ÿâ£›â â €â €â €
        â €â €â €â €â €â ˆâ ›â¡¿â ¿â ¶â¢›â£«â£¤â¡¶â£’â¡¶â ¶â£–â ¶â£¶â£â£›â šâ ¿â£Ÿâ ›â â €â €â €â €
        â €â €â €â €â €â €â €â ˆâ ™â ›â ›â ‹â¢¡â žâ â €â €â ˆâ »â£®â ™â ›â ›â ‹â â €â €â €â €â €â €
        `;

        terminal.write(`${asciiArt}\n\nWelcome to Soviet Peoples Linux v1.0! / Ð”Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð¡Ð¾Ð²ÐµÑ‚ÑÐºÑƒÑŽ ÐÐ°Ñ€Ð¾Ð´Ð½ÑƒÑŽ Ð›Ð¸Ð½ÑƒÐºÑ v1.0!\nType 'help' for a list of commands. / Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ 'help' Ð´Ð»Ñ ÑÐ¿Ð¸ÑÐºÐ° ÐºÐ¾Ð¼Ð°Ð½Ð´.\n\n`);

        const messages = {
            en: {
                unknownCommand: "Unknown command: {command}. Type 'help' for a list of commands.",
                help: "Available commands:\n    ls      - List directories\n    cat     - Read files\n    echo    - Echo your message\n    clear   - Clear the screen\n    exit    - Exit the terminal\n    date    - Show the current time\n    whoami  - Identify yourself\n    pwd     - Show current directory\n    ru      - Switch interface to Russian\n    en      - Switch interface to English\n",
                helpTitle: "Help Menu",
            },
            ru: {
                unknownCommand: "ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°: {command}. Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ 'help' Ð´Ð»Ñ ÑÐ¿Ð¸ÑÐºÐ° ÐºÐ¾Ð¼Ð°Ð½Ð´.",
                help: "Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹:\n    ls      - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸Ð¸\n    cat     - ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ñ„Ð°Ð¹Ð»\n    echo    - ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚ÑŒ Ð²Ð°ÑˆÐµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ\n    clear   - ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ ÑÐºÑ€Ð°Ð½\n    exit    - Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ð°\n    date    - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ\n    whoami  - ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ð¸Ñ‚ÑŒ ÑÐµÐ±Ñ\n    pwd     - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ñ‚ÐµÐºÑƒÑ‰ÑƒÑŽ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ\n    ru      - ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¸Ð¹\n    en      - ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð½Ð° Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹\n",
                helpTitle: "ÐœÐµÐ½ÑŽ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð¸",
            }
        };

        let language = 'en'; // Default language is English
        let inputBuffer = ''; // Buffer to store the user's input
const sovietCommands = {
    // existing commands...
    help: () => messages[language].help,
    ls: () => 'documents/  propaganda/  vodka/  comrades/',
    cat: (args) => args[0] === 'propaganda.txt' ? 'All glory to the Soviet Peoples! / Ð’ÑÑ ÑÐ»Ð°Ð²Ð° Ð¡Ð¾Ð²ÐµÑ‚ÑÐºÐ¸Ð¼ Ð½Ð°Ñ€Ð¾Ð´Ð°Ð¼!' : 'File not found, comrade. / Ð¤Ð°Ð¹Ð» Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½, Ñ‚Ð¾Ð²Ð°Ñ€Ð¸Ñ‰.',
    echo: (args) => args.join(' '),
    clear: () => { terminal.clear(); return ''; },
    exit: () => language === 'en' ? 'Exiting Soviet Peoples Linux... Goodbye, comrade.' : 'Ð’Ñ‹Ñ…Ð¾Ð´ Ð¸Ð· Ð¡Ð¾Ð²ÐµÑ‚ÑÐºÐ¾Ð³Ð¾ ÐÐ°Ñ€Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð›Ð¸Ð½ÑƒÐºÑ... ÐŸÑ€Ð¾Ñ‰Ð°Ð¹, Ñ‚Ð¾Ð²Ð°Ñ€Ð¸Ñ‰.',
    date: () => new Date().toLocaleString('en-US', { timeZone: 'Europe/Moscow' }),
    whoami: () => language === 'en' ? 'Comrade User' : 'Ð¢Ð¾Ð²Ð°Ñ€Ð¸Ñ‰ ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ',
    pwd: () => '/home/motherland/user',
    ru: () => { language = 'ru'; return 'Interface switched to Russian. / Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¸Ð¹.'; },
    en: () => { language = 'en'; return 'Interface switched to English. / Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½ Ð½Ð° Ð°Ð½Ð³Ð»Ð¸Ð¹ÑÐºÐ¸Ð¹.'; },

    // ðŸš€ New fun commands
    fortune: () => [
        "From each according to his ability, to each according to his needs.",
        "The Motherland is watching you, comrade.",
        "He who does not work shall not eat.",
        "Glory to the Soviet tractor!"
    ][Math.floor(Math.random() * 4)],
    uname: () => 'Soviet Peoples Linux v1.0 (Motherland Kernel) x86_Ð¡Ð¡Ð¡Ð ',
    history: () => '1. ls\n2. cat propaganda.txt\n3. echo Ð¡Ð»Ð°Ð²Ð°\n4. whoami\n5. date',
    sudo: () => 'Permission denied, comrade. Root is for the Party.',
    ping: () => 'Pinging Moscow... Success!',
    reboot: () => 'System will now reboot. Long live the Soviet Peoples!',
    man: () => 'Manuals are classified by the Party.'
};

        // Event listener for user input
        terminal.onData((data) => {
            if (data === '\r') { // Enter key pressed
                const [command, ...args] = inputBuffer.split(' ');
                terminal.write('\n'); // Ensure new line before output
                if (sovietCommands[command]) {
                    terminal.write(sovietCommands[command](args) + '\n');
                } else {
                    terminal.write(messages[language].unknownCommand.replace('{command}', command) + '\n');
                }
                terminal.write('â˜­');
                inputBuffer = ''; // Clear the input buffer
            } else if (data === '\u007F') { // Backspace
                inputBuffer = inputBuffer.slice(0, -1); // Remove last character
                terminal.write('\b \b');
            } else {
                inputBuffer += data; // Add the input character to the buffer
                terminal.write(data);
            }
        });

        terminal.write('â˜­'); // Prompt the user for input

    </script>

</body>
</html>
